'[Errno 8] nodename nor servname provided, or not known' thrown while requesting HEAD https://huggingface.co/facebook/nllb-200-distilled-1.3B/resolve/main/sentencepiece.bpe.model
Retrying in 1s [Retry 1/5].
Initializing translation system...
Loading NLLB model: facebook/nllb-200-distilled-1.3B on cpu
Traceback (most recent call last):
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 8] nodename nor servname provided, or not known

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_base.py", line 2003, in _from_pretrained
    tokenizer = cls(*init_inputs, **init_kwargs)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_tokenizers.py", line 376, in __init__
    self._tokenizer = self._patch_mistral_regex(
                      ~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._tokenizer,
        ^^^^^^^^^^^^^^^^
    ...<3 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_tokenizers.py", line 1210, in _patch_mistral_regex
    is_local or (not is_local and is_base_mistral(pretrained_model_name_or_path))
                                  ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_tokenizers.py", line 1200, in is_base_mistral
    model = model_info(model_id)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/utils/_validators.py", line 89, in _inner_fn
    return fn(*args, **kwargs)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/hf_api.py", line 2771, in model_info
    r = get_session().get(path, headers=headers, timeout=timeout, params=params)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_client.py", line 1053, in get
    return self.request(
           ~~~~~~~~~~~~^
        "GET",
        ^^^^^^
    ...<7 lines>...
        extensions=extensions,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.2/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 8] nodename nor servname provided, or not known

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/models/auto/tokenization_auto.py", line 650, in from_pretrained
    return TokenizersBackend.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_base.py", line 1751, in from_pretrained
    return cls._from_pretrained(
           ~~~~~~~~~~~~~~~~~~~~^
        resolved_vocab_files,
        ^^^^^^^^^^^^^^^^^^^^^
    ...<9 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_base.py", line 2004, in _from_pretrained
    except import_protobuf_decode_error():
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_base.py", line 79, in import_protobuf_decode_error
    raise ImportError(PROTOBUF_IMPORT_ERROR.format(error_message))
ImportError: 
 requires the protobuf library but it was not found in your environment. Check out the instructions on the
installation page of its repo: https://github.com/protocolbuffers/protobuf/tree/master/python#installation and follow the ones
that match your environment. Please note that you may need to restart your runtime after installation.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_base.py", line 1720, in from_pretrained
    resolved_vocab_files[file_id] = cached_file(
                                    ~~~~~~~~~~~^
        pretrained_model_name_or_path,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
        _commit_hash=commit_hash,
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/utils/hub.py", line 276, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/utils/hub.py", line 507, in cached_files
    raise e
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/utils/hub.py", line 419, in cached_files
    hf_hub_download(
    ~~~~~~~~~~~~~~~^
        path_or_repo_id,
        ^^^^^^^^^^^^^^^^
    ...<9 lines>...
        local_files_only=local_files_only,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/utils/_validators.py", line 89, in _inner_fn
    return fn(*args, **kwargs)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/file_download.py", line 1024, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
        # Destination
    ...<15 lines>...
        dry_run=dry_run,
    )
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/file_download.py", line 1157, in _hf_hub_download_to_cache_dir
    _get_metadata_or_catch_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        repo_id=repo_id,
        ^^^^^^^^^^^^^^^^
    ...<10 lines>...
        retry_on_errors=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/file_download.py", line 1691, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
        url=url,
    ...<4 lines>...
        retry_on_errors=retry_on_errors,
    )
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/utils/_validators.py", line 89, in _inner_fn
    return fn(*args, **kwargs)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/file_download.py", line 1614, in get_hf_file_metadata
    response = _httpx_follow_relative_redirects(
        method="HEAD", url=url, headers=hf_headers, timeout=timeout, retry_on_errors=retry_on_errors
    )
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/file_download.py", line 302, in _httpx_follow_relative_redirects
    response = http_backoff(
        method=method,
    ...<3 lines>...
        **no_retry_kwargs,
    )
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/utils/_http.py", line 506, in http_backoff
    return next(
        _http_backoff_base(
    ...<9 lines>...
        )
    )
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/huggingface_hub/utils/_http.py", line 414, in _http_backoff_base
    response = client.request(method=method, url=url, **kwargs)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/httpx/_client.py", line 901, in send
    raise RuntimeError("Cannot send a request, as the client has been closed.")
RuntimeError: Cannot send a request, as the client has been closed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/run_translation.py", line 341, in <module>
    translator = HadithTranslator(use_gpt_review=not args.no_gpt)
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/run_translation.py", line 27, in __init__
    self.translator = NLLBTranslator()
                      ~~~~~~~~~~~~~~^^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/translator.py", line 21, in __init__
    self.tokenizer = AutoTokenizer.from_pretrained(
                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.model_name,
        ^^^^^^^^^^^^^^^^
        src_lang=config.SOURCE_LANG
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/models/auto/tokenization_auto.py", line 652, in from_pretrained
    return tokenizer_class_from_name(tokenizer_config_class).from_pretrained(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        pretrained_model_name_or_path, *inputs, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/osamaamer/Desktop/code/hadith/hadith/translate/venv/lib/python3.14/site-packages/transformers/tokenization_utils_base.py", line 1739, in from_pretrained
    raise OSError(
    ...<4 lines>...
    )
OSError: Can't load tokenizer for 'facebook/nllb-200-distilled-1.3B'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'facebook/nllb-200-distilled-1.3B' is the correct path to a directory containing all relevant files for a NllbTokenizer tokenizer.
